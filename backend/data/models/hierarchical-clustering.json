{
  "id": "hierarchical-clustering",
  "name": "Hierarchical Clustering",
  "aliases": [],
  "category": "Clustering",
  "tags": [
    "clustering",
    "hierarchical"
  ],
  "level": "beginner",
  "summary": "Builds a dendrogram via linkage; flexible choice of distance/linkage with tree cut to form clusters.",
  "app_scenarios": [
    "Gene expression clustering",
    "Document clustering"
  ],
  "math": {
    "core_formula": "Linkage criteria: single, complete, average, ward; distance updated per Lanceâ€“Williams formula.",
    "derivation": [],
    "assumptions": [],
    "constraints": [],
    "variants": [
      "Agglomerative",
      "Divisive",
      "Ward"
    ]
  },
  "hyperparameters": [],
  "data_requirements": {
    "input": "Distance metric choice; Optional scaling",
    "scale_sensitivity": "",
    "missing_values": ""
  },
    "required_columns": [
    {
      "role": "feature_x",
      "canonical": "x",
      "aliases": ["x", "X", "feat_x", "lon", "longitude"],
      "dtype": "number",
      "description": "First numeric feature for clustering"
    },
    {
      "role": "feature_y",
      "canonical": "y",
      "aliases": ["y", "Y", "feat_y", "lat", "latitude"],
      "dtype": "number",
      "description": "Second numeric feature for clustering"
    }
  ],
  "code": {
    "python_sklearn": "import pandas as pd\nfrom scipy.cluster.hierarchy import linkage,fcluster\n\ndf = pd.read_csv('data.csv')\nX = df[['x','y']]\nZ = linkage(X,'ward')\nlabels = fcluster(Z,2,criterion='maxclust')\n\nprint('labels=', labels)\ndf['cluster']=labels\ndf.to_csv('clustered.csv',index=False)"
  },
  "usage": {
    "workflow": [
      "Choose distance and linkage",
      "Compute condensed distance matrix (watch O(n^2))",
      "Plot dendrogram and decide cut"
    ],
    "examples": []
  },
  "evaluation": {
    "metrics": [
      "Cophenetic correlation",
      "Silhouette score"
    ],
    "validation": "Cophenetic correlation vs original distances",
    "baselines": [
      "K-Means"
    ]
  },
  "strengths": [
    "Dendrogram insight",
    "No need to predefine k (can cut tree)"
  ],
  "weaknesses": [
    "O(n^2) memory/time",
    "Sensitive to linkage choice"
  ],
  "pitfalls": [
    "Quadratic memory/time on large n",
    "Linkage choice changes results"
  ],
  "comparisons": [
    {
      "with": "K-Means",
      "differences": [
        "No need to predefine k; provides multi-scale structure"
      ]
    }
  ],
  "visualizations": [
    "Dendrogram",
    "distance heatmap",
    "Heatmap of distances"
  ],
  "references": [
    {
      "title": "https://en.wikipedia.org/wiki/Hierarchical_clustering",
      "url": "https://en.wikipedia.org/wiki/Hierarchical_clustering",
      "type": "docs"
    },
    {
      "title": "https://scikit-learn.org/stable/modules/clustering.html#hierarchical-clustering",
      "url": "https://scikit-learn.org/stable/modules/clustering.html#hierarchical-clustering",
      "type": "docs"
    }
  ],
  "related": [
    "scipy",
    "scikit-learn"
  ],
  "last_updated": "2025-08-24"
}